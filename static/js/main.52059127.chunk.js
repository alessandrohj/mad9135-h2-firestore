(this.webpackJsonpfirestore=this.webpackJsonpfirestore||[]).push([[0],{127:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(48),i=a.n(n),s=(a(127),a(2)),o=a.n(s),l=a(6),d=a(13),b=a(24),u=a(76),j=a(30),h={apiKey:"AIzaSyCktNICL86Mw-LEIGlWQsCLzaYXyVKfazo",authDomain:"firestore-dcdd3.firebaseapp.com",projectId:"firestore-dcdd3",storageBucket:"firestore-dcdd3.appspot.com",messagingSenderId:"236960400973",appId:"1:236960400973:web:759d8548a08536d8907e04",measurementId:"G-RT46ZSCTVJ"},f=Object(u.a)(h),p=Object(j.f)(f);function x(e,t){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)(Object(j.b)(p,t),a);case 2:return r=e.sent,e.abrupt("return",r.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.c)(Object(j.d)(p,t,a));case 2:console.log("deleted");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(l.a)(o.a.mark((function e(t,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(j.d)(p,t,a),e.next=3,Object(j.g)(c,{title:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=a(187),y=a(188),w=a(179),N=a(182),S=a(184),k=a(47),C=a(180),A=a(191),L=a(4);function D(e){var t=e.updateList,a=e.updateNavBottom,c=Object(r.useState)("american"),n=Object(d.a)(c,2),i=n[0],s=n[1],b=Object(r.useState)(!1),u=Object(d.a)(b,2),j=u[0],h=u[1],f=function(){return h(!0)};function p(){return(p=Object(l.a)(o.a.mark((function e(r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=document.getElementById("show-title")).value.trim()){e.next=7;break}return r.preventDefault(),f(),e.abrupt("return");case 7:return c.textContent="",e.next=10,x(i,{title:c.value});case 10:a(0),t();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(L.jsxs)(g.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",className:"grid justify-center mb-9",children:[Object(L.jsx)("h2",{className:"text-xl font-bold py-3",children:"Add a new TV Show"}),Object(L.jsxs)(y.a,{style:{display:"flex",flexDirection:"column"},children:[Object(L.jsx)(w.a,{id:"outlined-select-category",select:!0,label:"Select",value:i,onChange:function(e){s(e.target.value)},helperText:"Please select a category",children:[{value:"american",label:"American"},{value:"british",label:"British"},{value:"anime",label:"Anime"}].map((function(e){return Object(L.jsx)(N.a,{value:e.value,children:e.label},e.value)}))}),Object(L.jsx)(w.a,{id:"show-title",label:"Title",placeholder:"Title",required:!0}),Object(L.jsxs)("div",{className:"flex justify-center gap-8",children:[Object(L.jsx)(S.a,{style:{width:"7rem",fontWeight:"bold",marginTop:"1.5rem"},color:"success",variant:"contained",onClick:function(e){return p.apply(this,arguments)},children:Object(L.jsx)(k.b,{to:"/",children:"Add"})}),Object(L.jsx)(S.a,{style:{width:"7rem",fontWeight:"bold",marginTop:"1.5rem"},color:"error",variant:"contained",onClick:function(e){e.preventDefault(),a(0)},children:Object(L.jsx)(k.b,{to:"/",children:"Cancel"})})]})]}),Object(L.jsx)(C.a,{open:j,onClose:function(){return h(!1)},"aria-labelledby":"error","aria-describedby":"error-description",children:Object(L.jsxs)(g.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(L.jsx)(A.a,{variant:"h6",component:"h2",children:"Error"}),Object(L.jsx)(A.a,{sx:{mt:2},children:"Please add a valid title."})]})})]})}var I=a(189);function T(e){var t=e.item,a=e.save,r=e.cancel,c=e.change,n=e.del;return Object(L.jsxs)("div",{className:"grid gap justify-center",children:[Object(L.jsx)(y.a,{className:"pb-2",children:Object(L.jsx)(I.a,{className:"border-2 border-black bg-gray-100 p-1 ml-2 ",id:"title","data-id":t.id,"data-cat":t.category,value:t.title,type:"text",onChange:c})}),Object(L.jsxs)("div",{className:"flex gap-4",children:[Object(L.jsx)(S.a,{variant:"contained",color:"success","data-id":t.id,onClick:a,children:"Save"}),Object(L.jsx)(S.a,{variant:"contained",color:"error","data-id":t.id,onClick:n,children:"Delete"}),Object(L.jsx)(S.a,{variant:"contained","data-id":t.id,onClick:r,children:"Cancel"})]})]})}var B=a(192),E=a(193);function z(e){var t=e.data,a=e.updateShows,c=e.refreshList,n=e.category,i=t&&t["".concat(n)],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],b=o[1],u=Object(r.useState)(""),j=Object(d.a)(u,2),h=j[0],f=j[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),O=x[0],w=x[1];function N(e){e.preventDefault();var t=e.target.getAttribute("data-id");b(t);var a=i.find((function(e){return e.id===t})).title;f(a),M()}function k(e){e.preventDefault();var t=e.target.getAttribute("data-id"),a=e.target.value,r={id:t,category:n,title:a};w(a),c(n,r)}function A(e){e.preventDefault();var t=e.target.getAttribute("data-id");!function(e,t,a){v.apply(this,arguments)}(n,t,O),b(""),f("")}function D(e){e.preventDefault();var t={id:e.target.getAttribute("data-id"),category:n,title:h};console.log(t),w(""),b(""),f("")}function I(e){e.preventDefault();var r=e.target.getAttribute("data-id");console.log(r);var c=i.filter((function(e){return e.id!==r}));!function(e,t){m.apply(this,arguments)}(n,r);var s=t;s["".concat(n)]=c,a(s),w(""),b(""),f("")}var z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},F=Object(r.useState)(!1),W=Object(d.a)(F,2),V=W[0],J=W[1],M=function(){return J(!0)},P=function(){return J(!1)},G=i&&i.map((function(e){return e.id===l?Object(L.jsx)(C.a,{open:V,onClose:P,"aria-labelledby":"Edit Item","aria-describedby":"Edit Item Options",children:Object(L.jsx)(g.a,{sx:z,children:Object(L.jsx)(T,{item:e,change:k,save:A,cancel:D,del:I},e.id)})},e.id):Object(L.jsx)("div",{className:"flex justify-center",children:Object(L.jsxs)(B.a,{"data-id":e.id,"data-cat":e.category,className:"".concat(e.category," flex-1 "),style:{backgroundColor:"#FFF7F7",marginTop:"1rem",maxWidth:350},raised:!0,children:[Object(L.jsx)(E.a,{children:Object(L.jsx)("h2",{style:{color:"#661727",fontWeight:"bold",fontSize:"1.4rem"},className:"capitalize",children:e.title})}),Object(L.jsx)(S.a,{"data-id":e.id,"data-cat":e.category,onClick:N,style:{fontSize:"1.2rem",marginBottom:".5rem",fontWeight:"bold",color:"black"},children:"Edit"})]})},e.id)}));return Object(L.jsx)(y.a,{style:{marginBottom:"2rem"},children:G})}var F=a.p+"static/media/Spinner-1s-200px.77d54bc6.gif";function W(e){var t=e.data,a=e.refreshList,r=e.updateShows,c="text-xl font-bold text-center",n="flex-1 text-center justify-center";return Object(L.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center py-3",children:[Object(L.jsxs)(g.a,{className:"".concat(n," ml-3"),children:[Object(L.jsx)("h2",{className:c,children:"Americans"}),Object(L.jsx)(z,{data:t,category:"american",refreshList:a,updateShows:r})]}),Object(L.jsxs)(g.a,{className:n,children:[Object(L.jsx)("h2",{className:c,children:"British"}),Object(L.jsx)(z,{data:t,category:"british",refreshList:a,updateShows:r})]}),Object(L.jsxs)(g.a,{className:n,children:[Object(L.jsx)("h2",{className:c,children:"Anime"}),Object(L.jsx)(z,{data:t,category:"anime",refreshList:a,updateShows:r})]}),t<=0&&Object(L.jsxs)("div",{className:"loading flex flex-col",children:[Object(L.jsx)("img",{src:F,alt:"loading"}),Object(L.jsx)("h2",{className:"font-bold text-3xl",children:"Please wait..."})]})]})}function V(){return Object(L.jsx)(g.a,{style:{backgroundColor:"#D43C31"},className:"text-center pb-4 text-3xl font-bold py-2 text-white",children:Object(L.jsx)(k.b,{className:"text-center",to:"/",children:"Firebase App"})})}var J=a(185),M=a(186),P=a(113),G=a.n(P),K=a(112),q=a.n(K);a(136);var H=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(0),i=Object(d.a)(n,2),s=i[0],f=i[1],p=Object(u.a)(h),x=Object(j.f)(p);function O(){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(o.a.mark((function e(){var t,a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.b)(x,"american"),a=Object(j.b)(x,"british"),r=Object(j.b)(x,"anime"),e.next=5,Object(j.e)(t);case 5:return e.t0=e.sent.docs.map((function(e){return{id:e.id,category:"american",title:e.data().title}})),e.next=8,Object(j.e)(a);case 8:return e.t1=e.sent.docs.map((function(e){return{id:e.id,category:"british",title:e.data().title}})),e.next=11,Object(j.e)(r);case 11:return e.t2=e.sent.docs.map((function(e){return{id:e.id,category:"anime",title:e.data().title}})),n={american:e.t0,british:e.t1,anime:e.t2},e.abrupt("return",c(n));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){O()}),[]),Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(V,{}),Object(L.jsx)("h1",{className:"text-3xl p-4 font-bold",style:{color:"#661727"},children:"TV Show List"}),Object(L.jsxs)(b.c,{children:[Object(L.jsx)(b.a,{exact:!0,path:"/",children:Object(L.jsx)(W,{data:a,refreshList:function(e,t){var r=a,n=r["".concat(e)].map((function(e){return t.id===e.id?t:e}));r["".concat(e)]=n,c(r)},updateShows:c})}),Object(L.jsx)(b.a,{path:"/add",children:Object(L.jsx)(D,{updateList:function(){O()},updateNavBottom:f})})]}),Object(L.jsx)("div",{style:{position:"fixed",bottom:0,left:0,right:0},elevation:3,className:"border-t-2",children:Object(L.jsxs)(J.a,{showLabels:!0,value:s,onChange:function(e,t){return f(t)},children:[Object(L.jsx)(M.a,{href:"#/",label:"Home",icon:Object(L.jsx)(q.a,{})}),Object(L.jsx)(M.a,{href:"#/add",label:"Add",icon:Object(L.jsx)(G.a,{})})]})})]})};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(k.a,{children:Object(L.jsx)(H,{})})}),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.52059127.chunk.js.map